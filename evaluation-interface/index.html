<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClaimSpy Assessment Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="header">
        <div
            style="display: flex; justify-content: space-between; align-items: center; position: relative; z-index: 1100;">
            <div>
                <h1>ClaimSpy Assessment Interface Demo</h1>
                <p>Interactive exploration of ClaimSpy assessment results</p>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Left Panel - JSON Context -->
        <div class="left-panel" id="leftPanel">
            <div class="left-panel-header" style="display: flex; justify-content: space-between; align-items: center;">
                <h3>JSON Data</h3>
                <button onclick="closeLeftPanel()"
                    style="background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #666;">✕</button>
            </div>
            <div class="left-panel-content">
                <div id="jsonContent">
                    <p style="color: #666; padding: 2rem; text-align: center;">Select an assessment to view JSON data
                    </p>
                </div>
            </div>
        </div>

        <!-- Left Panel Resizer -->
        <div class="resize-handle left-resize" id="leftResizer"></div>

        <!-- Main Panel -->
        <div class="main-panel">
            <div class="main-content">
                <!-- Folder Selection -->
                <div class="folder-selection" id="folderSelection">
                    <h3>Select Assessment Data</h3>
                    <p>Choose a result folder to analyze the assessment data</p>
                    <select id="folderDropdown" onchange="loadSelectedFolder()"
                        style="padding: 0.5rem 1rem; margin: 1rem 0; border: 1px solid #ddd; border-radius: 4px; min-width: 200px;">
                        <option value="">-- Select a result folder --</option>
                    </select>
                    <div id="loadingStatus" style="display: none; color: #666; margin-top: 1rem;">
                        Loading...
                    </div>
                </div>

                <!-- Content Area -->
                <div id="contentArea" class="hidden">
                    <!-- Claim Display -->
                    <div class="claim-section">
                        <h2>Claim:</h2>
                        <div class="claim-text" id="claimText">
                            Loading claim...
                        </div>
                    </div>

                    <!-- Claim Card Interpretation (shown only when available) -->
                    <div class="claim-card-section" id="claimCardSection" style="display: none;">
                        <h2>System Interpretation of Claim</h2>
                        <div class="claim-card-content" id="claimCardContent">
                            <!-- Claim card details will be populated here -->
                        </div>
                    </div>

                    <!-- System Scores -->
                    <div class="system-scores">
                        <h2>System Assessment Scores</h2>
                        <div class="score-grid" id="systemScores">
                            <!-- Scores will be populated here -->
                        </div>
                    </div>

                    <!-- Explanations -->
                    <div class="explanations-section">
                        <h2>Explanations</h2>
                        <div id="explanationsList">
                            <!-- Explanations will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel Resizer -->
        <div class="resize-handle right-resize" id="rightResizer"></div>

        <!-- Right Panel - Evidence -->
        <div class="right-panel" id="rightPanel">
            <div class="right-panel-header" style="display: flex; justify-content: space-between; align-items: center;">
                <h3>Source Content Analysis</h3>
                <button onclick="closeRightPanel()"
                    style="background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #666;">✕</button>
            </div>
            <div class="right-panel-content">
                <div id="loadingOverlay" class="loading-overlay" style="display: none;">
                    Analyzing content...
                </div>
                <div id="readingModeViewer" class="reading-mode" style="display: none;"></div>
                <iframe id="webpageViewer" class="webpage-viewer" style="display: none;"></iframe>
                <div id="welcomeMessage" style="padding: 2rem; text-align: center; color: #666;">
                    Click on evidence items to analyze source content
                </div>
            </div>
        </div>
    </div>

    <!-- Load configuration and main script -->
    <script src="static-config.js"></script>
    <script src="trajectory_flow.js"></script>
    <script src="simulation_manager.js"></script>
    <script src="evidence_manager.js"></script>
    <script src="explanation_display.js"></script>
    <script src="script.js"></script>
    <script src="code_explanation.js"></script>
    <script src="pdf_controls.js"></script>
    <script src="panel_resize.js"></script>
</body>

</html>